/* Grundlayout */
* { box-sizing: border-box; }
:root{
  --bg: #0a0d10;
  --fg: #e8f0f7;
  --muted: #9ab0c2;
  --glass: rgba(255,255,255,0.06);
  --border: rgba(255,255,255,0.12);

  /* AQI Farbstufen */
  --c-good:#50c878;           /* smaragdgruen */
  --c-moderate:#f1c232;       /* gelb */
  --c-usg:#f39c12;            /* orange */
  --c-unhealthy:#e74c3c;      /* rot */
  --c-very-unhealthy:#8e44ad; /* violett */
  --c-hazardous:#7e0023;      /* weinrot */
}

html, body { height: 100%; background: var(--bg); color: var(--fg); font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif; }
body { margin: 0; }

.app { min-height: 100vh; display: flex; flex-direction: column; }

/* Header */
.topbar{
  padding: 18px 22px;
  background: linear-gradient(135deg, #0b1b2a, #0a0d10 40%, #111622);
  border-bottom: 1px solid var(--border);
}
.topbar h1{ margin: 0 0 6px 0; font-weight: 700; letter-spacing: 0.2px; }
.topbar p{ margin: 0; color: var(--muted); }

/* Hauptbereich */
.layout{
  display: grid;
  grid-template-columns: 1.3fr 0.9fr;
  gap: 22px;
  padding: 22px;
}
@media (max-width: 980px){
  .layout{ grid-template-columns: 1fr; }
}

/* Karte */
.map-wrap{
  position: relative;
  min-height: 560px;
  background:
    radial-gradient(1200px 600px at 30% 20%, rgba(53,131,255,0.08), transparent 60%),
    radial-gradient(800px 500px at 80% 70%, rgba(255,86,146,0.08), transparent 60%);
  border: 1px solid var(--border);
  border-radius: 18px;
  overflow: hidden;
}

.india-map{
  position: absolute; inset: 0;
  background-image: url("https://upload.wikimedia.org/wikipedia/commons/3/38/India_blank_map.svg");
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  filter: drop-shadow(0 12px 24px rgba(0,0,0,0.5)) saturate(1.05) contrast(1.05);
  opacity: 0.9;
}

/* City Marker */
.city{
  position: absolute;
  width: 18px; height: 18px;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  border: 2px solid rgba(255,255,255,0.9);
  background: #1f9fff;
  box-shadow: 0 6px 18px rgba(31,159,255,0.45), 0 0 0 6px rgba(31,159,255,0.15);
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .2s ease;
}
.city:hover{ transform: translate(-50%, -50%) scale(1.15); box-shadow: 0 6px 22px rgba(31,159,255,0.55), 0 0 0 9px rgba(31,159,255,0.18); }
.city:focus{ outline: none; box-shadow: 0 0 0 3px rgba(255,255,255,0.6), 0 0 0 8px rgba(31,159,255,0.25); }

/* Seitenpanel */
.sidepanel{
  background: linear-gradient(160deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 18px;
  backdrop-filter: blur(10px);
  transition: border-color .2s ease, box-shadow .2s ease;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.05), 0 20px 60px rgba(0,0,0,0.25);
}

/* Farbakzent je Kategorie */
.sidepanel[data-cat="good"]            { border-color: color-mix(in srgb, var(--c-good) 60%, var(--border)); }
.sidepanel[data-cat="moderate"]        { border-color: color-mix(in srgb, var(--c-moderate) 60%, var(--border)); }
.sidepanel[data-cat="usg"]             { border-color: color-mix(in srgb, var(--c-usg) 60%, var(--border)); }
.sidepanel[data-cat="unhealthy"]       { border-color: color-mix(in srgb, var(--c-unhealthy) 60%, var(--border)); }
.sidepanel[data-cat="very-unhealthy"]  { border-color: color-mix(in srgb, var(--c-very-unhealthy) 60%, var(--border)); }
.sidepanel[data-cat="hazardous"]       { border-color: color-mix(in srgb, var(--c-hazardous) 60%, var(--border)); }

.sp-header{ display: grid; grid-template-columns: auto 1fr; gap: 10px 12px; align-items: center; }
.sp-header .badge{
  grid-row: span 2;
  padding: 8px 10px;
  background: rgba(255,255,255,0.08);
  border: 1px solid var(--border);
  border-radius: 12px;
  font-weight: 700;
  letter-spacing: 0.5px;
}
.sp-header h2{ margin: 0; }
.muted{ color: var(--muted); margin: 0; }

/* AQI Kachel */
.aqi-card{
  display: grid; grid-template-columns: 1fr auto; align-items: end;
  gap: 10px;
  padding: 16px 18px;
  border-radius: 16px;
  border: 1px dashed var(--border);
  background:
    radial-gradient(400px 200px at 10% 10%, rgba(80,200,120,0.12), transparent 60%),
    radial-gradient(400px 220px at 90% 30%, rgba(250,180,60,0.10), transparent 60%),
    rgba(255,255,255,0.03);
}
.aqi-value{
  font-size: 64px; line-height: 0.95; font-weight: 800; letter-spacing: -1px;
}
.aqi-cat{
  justify-self: end;
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid var(--border);
  color: #111;
  background: #ddd;
  font-weight: 700;
}

/* Kategoriehintergrund passend einfärben */
.sidepanel[data-cat="good"]           .aqi-cat{ background: var(--c-good); }
.sidepanel[data-cat="moderate"]       .aqi-cat{ background: var(--c-moderate); }
.sidepanel[data-cat="usg"]            .aqi-cat{ background: var(--c-usg); color:#111; }
.sidepanel[data-cat="unhealthy"]      .aqi-cat{ background: var(--c-unhealthy); color:#fff; }
.sidepanel[data-cat="very-unhealthy"] .aqi-cat{ background: var(--c-very-unhealthy); color:#fff; }
.sidepanel[data-cat="hazardous"]      .aqi-cat{ background: var(--c-hazardous); color:#fff; }

.detail h3{ margin: 6px 0 8px; }
.detail ul{ margin: 0; padding-left: 18px; color: var(--fg); }
.detail li{ margin: 6px 0; color: var(--fg); }

.panel-foot{
  display: flex; justify-content: space-between; align-items: center;
  padding-top: 8px; border-top: 1px dashed var(--border);
  color: var(--muted);
}

.india-map{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;   /* Bild vollständig anzeigen */
  filter: drop-shadow(0 12px 24px rgba(0,0,0,0.5)) saturate(1.05) contrast(1.05);
  opacity: 0.9;
  pointer-events: none;  /* damit Klicks auf die Marker gehen */
  z-index: 0;
}
.city{ z-index: 1; }     /* Marker über der Karte */
